<!-- Link to Google CDN's jQuery + jQueryUI; fall back to local -->
<script src="{{ s3Endpoint }}/static/js/libs/jquery-2.1.1.min.js"></script>
<script src="{{ s3Endpoint }}/static/js/libs/jquery-ui-1.10.3.min.js"></script>
{#<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>#}
{#<script>#}
    {#if (!window.jQuery) {#}
        {#document.write('<script src="{{ s3Endpoint }}/static/js/libs/jquery-2.1.1.min.js"><\/script>');#}
    {#}#}
{#</script>#}

{#<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>#}
{#<script>#}
    {#if (!window.jQuery.ui) {#}
        {#document.write('<script src="{{ s3Endpoint }}/static/js/libs/jquery-ui-1.10.3.min.js"><\/script>');#}
    {#}#}
{#</script>#}

<!-- PACE LOADER - turn this on if you want ajax loading to show (caution: uses lots of memory on iDevices)-->
<script src="{{ s3Endpoint }}/static/js/plugin/pace/pace.min.js"></script>
<script>
    paceOptions = {
        restartOnPushState: false
    };

</script>

<!-- IMPORTANT: APP CONFIG -->
<script src="/htdocs/js/app.config.js?v={{ SCRIPT_UPDATED }}"></script>

<!-- JS TOUCH : include this plugin for mobile drag / drop touch events-->
<script src="{{ s3Endpoint }}/static/js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script>

<!-- BOOTSTRAP JS -->
<script src="{{ s3Endpoint }}/static/js/bootstrap/bootstrap.min.js"></script>

<!-- CUSTOM NOTIFICATION -->
<script src="{{ s3Endpoint }}/static/js/notification/SmartNotification.min.js"></script>

<!-- JARVIS WIDGETS -->
<script src="{{ s3Endpoint }}/static/js/smartwidgets/jarvis.widget.min.js"></script>

<!-- EASY PIE CHARTS -->
<script src="{{ s3Endpoint }}/static/js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js"></script>

<!-- SPARKLINES -->
<script src="{{ s3Endpoint }}/static/js/plugin/sparkline/jquery.sparkline.min.js"></script>

<!-- JQUERY VALIDATE -->
<script src="{{ s3Endpoint }}/static/js/plugin/jquery-validate/jquery.validate.min.js"></script>

<!-- JQUERY MASKED INPUT -->
<script src="{{ s3Endpoint }}/static/js/plugin/masked-input/jquery.maskedinput.min.js"></script>

<!-- JQUERY FORM -->
<script src="{{ s3Endpoint }}/static/js/plugin/jquery-form/jquery-form.min.js"></script>

<!-- JQUERY SELECT2 INPUT -->
<script src="{{ s3Endpoint }}/static/js/plugin/select2/select2.min.js"></script>

<!-- JQUERY UI + Bootstrap Slider -->
<script src="{{ s3Endpoint }}/static/js/plugin/bootstrap-slider/bootstrap-slider.min.js"></script>

<!-- browser msie issue fix -->
<script src="{{ s3Endpoint }}/static/js/plugin/msie-fix/jquery.mb.browser.min.js"></script>

<!-- FastClick: For mobile devices -->
<script src="{{ s3Endpoint }}/static/js/plugin/fastclick/fastclick.min.js"></script>

<!--[if IE 8]>
<h1>Your browser is out of date, please update your browser by going to www.microsoft.com/download</h1>
<![endif]-->

<!-- Demo purpose only -->
{#<script src="{{ s3Endpoint }}/static/js/demo.min.js"></script>#}

<!-- MAIN APP JS FILE -->
<script src="{{ s3Endpoint }}/static/js/app.min.js"></script>

<!-- ENHANCEMENT PLUGINS : NOT A REQUIREMENT -->
<!-- Voice command : plugin -->
<script src="{{ s3Endpoint }}/static/js/speech/voicecommand.min.js"></script>

<!-- PAGE RELATED PLUGIN(S) -->
<script src="{{ s3Endpoint }}/static/js/plugin/jquery-form/jquery-form.min.js"></script>

<script src="{{ s3Endpoint }}/static/js/plugin/datatables/jquery.dataTables.min.js"></script>
<script src="{{ s3Endpoint }}/static/js/plugin/datatables/dataTables.colVis.min.js"></script>
<script src="{{ s3Endpoint }}/static/js/plugin/datatables/dataTables.tableTools.min.js"></script>
<script src="{{ s3Endpoint }}/static/js/plugin/datatables/dataTables.bootstrap.min.js"></script>
<script src="{{ s3Endpoint }}/static/js/plugin/datatable-responsive/datatables.responsive.min.js"></script>

{#<script src="{{ s3Endpoint }}/static/js/plugin/maxlength/bootstrap-maxlength.min.js"></script>#}
<script src="{{ s3Endpoint }}/static/js/plugin/bootstrap-timepicker/bootstrap-timepicker.min.js"></script>
{#<script src="{{ s3Endpoint }}/static/js/plugin/clockpicker/clockpicker.min.js"></script>#}
<script src="{{ s3Endpoint }}/static/js/plugin/bootstrap-tags/bootstrap-tagsinput.min.js"></script>
{#<script src="{{ s3Endpoint }}/static/js/plugin/noUiSlider/jquery.nouislider.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/ion-slider/ion.rangeSlider.min.js"></script>#}
<script src="{{ s3Endpoint }}/static/js/plugin/bootstrap-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
{#<script src="{{ s3Endpoint }}/static/js/plugin/colorpicker/bootstrap-colorpicker.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/knob/jquery.knob.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/x-editable/moment.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/x-editable/jquery.mockjax.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/x-editable/x-editable.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/typeahead/typeahead.min.js"></script>#}
{#<script src="{{ s3Endpoint }}/static/js/plugin/typeahead/typeaheadjs.min.js"></script>#}
<script type="text/javascript">
    var flashMessageDict = '{{ dictionary['flash_message']|json_encode() }}';
    var flashMessageJsonObj = JSON.parse(flashMessageDict.replace(/&quot;/g, '"'));
</script>

<!-- PAGE RELATED PLUGIN(S)
<script src="..."></script>-->
<script src="/htdocs/js/custom.js?v={{ SCRIPT_UPDATED }}"></script>

<script type="text/javascript">

    $(document).ready(function() {

        pageSetUp();

        if (!!console) console.log("%cSynctree Studio V2.0", "background: #D26187; color: white; font-size: 26px;");
        //if (!!console) console.log("%c{{ dictionary.alert.console_warn }}", "color: black; font-size: 20px;");

        {# var modalStyle = document.getElementById('modal_user_info').style;
        var logoBtn = document.getElementById('userLogo'); #}

        // modal Func of user detail info
        {# logoBtn.addEventListener("click", function() {
            modalStyle.display = modalStyle.display == 'block' ? 'none' : 'block'; 
        }); #}

       {# 
        $('#top-profile').off('click').on('click', function(e){
			console.log(e);
			
			$('#modal_user_info').show(0, function(){
				
				setTimeout(function(){
					$(document).on('click', ':not(#modal_user_info, #modal_user_info > *)', function(e){
						console.log(e.target);
						$('#modal_user_info').hide();
					});
				}, 100);
				
			});
			
            
        });#}
		{#$('#modal_user_info, #modal_user_info *').click(function(e) {
				e.stopPropagation();
		});#}
        
		
        


        // 탑메뉴에서 프로덕트 변경 스크립트
        $("li.top-product-menu > a, a.app-enter").on("click", function () {
            let appId = $(this).attr("data-app-id");
            $.ajax({
                type : "GET",
                url : "/console/selectApp/" + appId,
                error: function (res) {
                    if (!!console) console.log("error", res);
                    alert('error');
                },
                success: function () {
                    location.href = "/{{ dictionary['lang'] }}/console/apps/bunit/" + appId;
                }
            });
        });
		
		$('.not-ready').on('click', function(e){
			e.preventDefault();
			alert('{{ dictionary.alert.not_ready }}');
		
		});

        // 언어변경
        $("a.choose-lang").on("click", function () {
            const loc = location.pathname + location.hash;
            let url = '';

            if ($(this).hasClass("ko")) {
				url = loc.replace('/EN/', "/KO/");
            }else if ($(this).hasClass("en")) {
                url = loc.replace('/KO/', "/EN/");
            }
			
            location.replace(url);

        });

        {% if flash_message['error'][0] is not empty %}
        showSmallBox('error_message', 5000, '{{ flash_message['error'][0] }}');
        {% endif %}

        {% if flash_message['success'][0] is defined %}
        showSmallBox('success_landing');
        {% endif %}

        {% if flash_message['success_message'][0] is defined %}
        showSmallBox('success_message', 5000, '{{ flash_message['success_message'][0] }}');
        {% endif %}

        {% if flash_message['result_success_message'][0] is defined %}
        const jsonStr = '{{ flash_message['result_success_message'][0]|json_encode() }}';
        const JSONObject = JSON.parse(jsonStr.replace(/&quot;/g, '"'));
        showBigBox('success_message', JSONObject);
        {% endif %}

    });

</script>